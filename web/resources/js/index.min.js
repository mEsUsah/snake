!function(t){var e={};function i(n){if(e[n])return e[n].exports;var r=e[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)i.d(n,r,function(e){return t[e]}.bind(null,r));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=45)}([function(t,e,i){(function(e){var i=function(t){return t&&t.Math==Math&&t};t.exports=i("object"==typeof globalThis&&globalThis)||i("object"==typeof window&&window)||i("object"==typeof self&&self)||i("object"==typeof e&&e)||function(){return this}()||Function("return this")()}).call(this,i(46))},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e){var i={}.hasOwnProperty;t.exports=function(t,e){return i.call(t,e)}},function(t,e,i){var n=i(0),r=i(24).f,o=i(6),s=i(48),a=i(16),c=i(52),l=i(57);t.exports=function(t,e){var i,f,u,p,h,y=t.target,d=t.global,g=t.stat;if(i=d?n:g?n[y]||a(y,{}):(n[y]||{}).prototype)for(f in e){if(p=e[f],u=t.noTargetGet?(h=r(i,f))&&h.value:i[f],!l(d?f:y+(g?".":"#")+f,t.forced)&&void 0!==u){if(typeof p==typeof u)continue;c(p,u)}(t.sham||u&&u.sham)&&o(p,"sham",!0),s(i,f,p,t)}}},function(t,e,i){var n=i(1);t.exports=!n((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},function(t,e,i){var n=i(5),r=i(7),o=i(12);t.exports=n?function(t,e,i){return r.f(t,e,o(1,i))}:function(t,e,i){return t[e]=i,t}},function(t,e,i){var n=i(5),r=i(27),o=i(8),s=i(15),a=Object.defineProperty;e.f=n?a:function(t,e,i){if(o(t),e=s(e,!0),o(i),r)try{return a(t,e,i)}catch(t){}if("get"in i||"set"in i)throw TypeError("Accessors not supported");return"value"in i&&(t[e]=i.value),t}},function(t,e,i){var n=i(2);t.exports=function(t){if(!n(t))throw TypeError(String(t)+" is not an object");return t}},function(t,e,i){var n=i(35),r=Math.min;t.exports=function(t){return t>0?r(n(t),9007199254740991):0}},function(t,e,i){var n=i(0),r=i(31),o=i(3),s=i(32),a=i(41),c=i(62),l=r("wks"),f=n.Symbol,u=c?f:f&&f.withoutSetter||s;t.exports=function(t){return o(l,t)&&(a||"string"==typeof l[t])||(a&&o(f,t)?l[t]=f[t]:l[t]=u("Symbol."+t)),l[t]}},function(t,e,i){"use strict";var n=i(4),r=i(37);n({target:"Array",proto:!0,forced:[].forEach!=r},{forEach:r})},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e,i){var n=i(25),r=i(26);t.exports=function(t){return n(r(t))}},function(t,e){var i={}.toString;t.exports=function(t){return i.call(t).slice(8,-1)}},function(t,e,i){var n=i(2);t.exports=function(t,e){if(!n(t))return t;var i,r;if(e&&"function"==typeof(i=t.toString)&&!n(r=i.call(t)))return r;if("function"==typeof(i=t.valueOf)&&!n(r=i.call(t)))return r;if(!e&&"function"==typeof(i=t.toString)&&!n(r=i.call(t)))return r;throw TypeError("Can't convert object to primitive value")}},function(t,e,i){var n=i(0),r=i(6);t.exports=function(t,e){try{r(n,t,e)}catch(i){n[t]=e}return e}},function(t,e,i){var n=i(0),r=i(16),o=n["__core-js_shared__"]||r("__core-js_shared__",{});t.exports=o},function(t,e){t.exports={}},function(t,e,i){var n=i(54),r=i(0),o=function(t){return"function"==typeof t?t:void 0};t.exports=function(t,e){return arguments.length<2?o(n[t])||o(r[t]):n[t]&&n[t][e]||r[t]&&r[t][e]}},function(t,e){t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(t,e,i){var n=i(26);t.exports=function(t){return Object(n(t))}},function(t,e,i){var n,r,o=i(0),s=i(61),a=o.process,c=a&&a.versions,l=c&&c.v8;l?r=(n=l.split("."))[0]+n[1]:s&&(!(n=s.match(/Edge\/(\d+)/))||n[1]>=74)&&(n=s.match(/Chrome\/(\d+)/))&&(r=n[1]),t.exports=r&&+r},function(t,e,i){var n=i(0),r=i(63),o=i(37),s=i(6);for(var a in r){var c=n[a],l=c&&c.prototype;if(l&&l.forEach!==o)try{s(l,"forEach",o)}catch(t){l.forEach=o}}},function(t,e,i){var n=i(5),r=i(47),o=i(12),s=i(13),a=i(15),c=i(3),l=i(27),f=Object.getOwnPropertyDescriptor;e.f=n?f:function(t,e){if(t=s(t),e=a(e,!0),l)try{return f(t,e)}catch(t){}if(c(t,e))return o(!r.f.call(t,e),t[e])}},function(t,e,i){var n=i(1),r=i(14),o="".split;t.exports=n((function(){return!Object("z").propertyIsEnumerable(0)}))?function(t){return"String"==r(t)?o.call(t,""):Object(t)}:Object},function(t,e){t.exports=function(t){if(null==t)throw TypeError("Can't call method on "+t);return t}},function(t,e,i){var n=i(5),r=i(1),o=i(28);t.exports=!n&&!r((function(){return 7!=Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a}))},function(t,e,i){var n=i(0),r=i(2),o=n.document,s=r(o)&&r(o.createElement);t.exports=function(t){return s?o.createElement(t):{}}},function(t,e,i){var n=i(17),r=Function.toString;"function"!=typeof n.inspectSource&&(n.inspectSource=function(t){return r.call(t)}),t.exports=n.inspectSource},function(t,e,i){var n=i(31),r=i(32),o=n("keys");t.exports=function(t){return o[t]||(o[t]=r(t))}},function(t,e,i){var n=i(51),r=i(17);(t.exports=function(t,e){return r[t]||(r[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.10.0",mode:n?"pure":"global",copyright:"Â© 2021 Denis Pushkarev (zloirock.ru)"})},function(t,e){var i=0,n=Math.random();t.exports=function(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++i+n).toString(36)}},function(t,e,i){var n=i(3),r=i(13),o=i(34).indexOf,s=i(18);t.exports=function(t,e){var i,a=r(t),c=0,l=[];for(i in a)!n(s,i)&&n(a,i)&&l.push(i);for(;e.length>c;)n(a,i=e[c++])&&(~o(l,i)||l.push(i));return l}},function(t,e,i){var n=i(13),r=i(9),o=i(36),s=function(t){return function(e,i,s){var a,c=n(e),l=r(c.length),f=o(s,l);if(t&&i!=i){for(;l>f;)if((a=c[f++])!=a)return!0}else for(;l>f;f++)if((t||f in c)&&c[f]===i)return t||f||0;return!t&&-1}};t.exports={includes:s(!0),indexOf:s(!1)}},function(t,e){var i=Math.ceil,n=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?n:i)(t)}},function(t,e,i){var n=i(35),r=Math.max,o=Math.min;t.exports=function(t,e){var i=n(t);return i<0?r(i+e,0):o(i,e)}},function(t,e,i){"use strict";var n=i(38).forEach,r=i(42)("forEach");t.exports=r?[].forEach:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0)}},function(t,e,i){var n=i(58),r=i(25),o=i(21),s=i(9),a=i(39),c=[].push,l=function(t){var e=1==t,i=2==t,l=3==t,f=4==t,u=6==t,p=7==t,h=5==t||u;return function(y,d,g,v){for(var m,x,S=o(y),k=r(S),w=n(d,g,3),b=s(k.length),E=0,A=v||a,T=e?A(y,b):i||p?A(y,0):void 0;b>E;E++)if((h||E in k)&&(x=w(m=k[E],E,S),t))if(e)T[E]=x;else if(x)switch(t){case 3:return!0;case 5:return m;case 6:return E;case 2:c.call(T,m)}else switch(t){case 4:return!1;case 7:c.call(T,m)}return u?-1:l||f?f:T}};t.exports={forEach:l(0),map:l(1),filter:l(2),some:l(3),every:l(4),find:l(5),findIndex:l(6),filterOut:l(7)}},function(t,e,i){var n=i(2),r=i(40),o=i(10)("species");t.exports=function(t,e){var i;return r(t)&&("function"!=typeof(i=t.constructor)||i!==Array&&!r(i.prototype)?n(i)&&null===(i=i[o])&&(i=void 0):i=void 0),new(void 0===i?Array:i)(0===e?0:e)}},function(t,e,i){var n=i(14);t.exports=Array.isArray||function(t){return"Array"==n(t)}},function(t,e,i){var n=i(60),r=i(22),o=i(1);t.exports=!!Object.getOwnPropertySymbols&&!o((function(){return!Symbol.sham&&(n?38===r:r>37&&r<41)}))},function(t,e,i){"use strict";var n=i(1);t.exports=function(t,e){var i=[][t];return!!i&&n((function(){i.call(null,e||function(){throw 1},1)}))}},function(t,e,i){var n=i(1),r=i(10),o=i(22),s=r("species");t.exports=function(t){return o>=51||!n((function(){var e=[];return(e.constructor={})[s]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}},function(t,e,i){var n=i(4),r=i(68),o=i(69);n({target:"Array",proto:!0},{fill:r}),o("fill")},function(t,e,i){t.exports=i(76)},function(t,e){var i;i=function(){return this}();try{i=i||new Function("return this")()}catch(t){"object"==typeof window&&(i=window)}t.exports=i},function(t,e,i){"use strict";var n={}.propertyIsEnumerable,r=Object.getOwnPropertyDescriptor,o=r&&!n.call({1:2},1);e.f=o?function(t){var e=r(this,t);return!!e&&e.enumerable}:n},function(t,e,i){var n=i(0),r=i(6),o=i(3),s=i(16),a=i(29),c=i(49),l=c.get,f=c.enforce,u=String(String).split("String");(t.exports=function(t,e,i,a){var c,l=!!a&&!!a.unsafe,p=!!a&&!!a.enumerable,h=!!a&&!!a.noTargetGet;"function"==typeof i&&("string"!=typeof e||o(i,"name")||r(i,"name",e),(c=f(i)).source||(c.source=u.join("string"==typeof e?e:""))),t!==n?(l?!h&&t[e]&&(p=!0):delete t[e],p?t[e]=i:r(t,e,i)):p?t[e]=i:s(e,i)})(Function.prototype,"toString",(function(){return"function"==typeof this&&l(this).source||a(this)}))},function(t,e,i){var n,r,o,s=i(50),a=i(0),c=i(2),l=i(6),f=i(3),u=i(17),p=i(30),h=i(18),y=a.WeakMap;if(s){var d=u.state||(u.state=new y),g=d.get,v=d.has,m=d.set;n=function(t,e){return e.facade=t,m.call(d,t,e),e},r=function(t){return g.call(d,t)||{}},o=function(t){return v.call(d,t)}}else{var x=p("state");h[x]=!0,n=function(t,e){return e.facade=t,l(t,x,e),e},r=function(t){return f(t,x)?t[x]:{}},o=function(t){return f(t,x)}}t.exports={set:n,get:r,has:o,enforce:function(t){return o(t)?r(t):n(t,{})},getterFor:function(t){return function(e){var i;if(!c(e)||(i=r(e)).type!==t)throw TypeError("Incompatible receiver, "+t+" required");return i}}}},function(t,e,i){var n=i(0),r=i(29),o=n.WeakMap;t.exports="function"==typeof o&&/native code/.test(r(o))},function(t,e){t.exports=!1},function(t,e,i){var n=i(3),r=i(53),o=i(24),s=i(7);t.exports=function(t,e){for(var i=r(e),a=s.f,c=o.f,l=0;l<i.length;l++){var f=i[l];n(t,f)||a(t,f,c(e,f))}}},function(t,e,i){var n=i(19),r=i(55),o=i(56),s=i(8);t.exports=n("Reflect","ownKeys")||function(t){var e=r.f(s(t)),i=o.f;return i?e.concat(i(t)):e}},function(t,e,i){var n=i(0);t.exports=n},function(t,e,i){var n=i(33),r=i(20).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return n(t,r)}},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e,i){var n=i(1),r=/#|\.prototype\./,o=function(t,e){var i=a[s(t)];return i==l||i!=c&&("function"==typeof e?n(e):!!e)},s=o.normalize=function(t){return String(t).replace(r,".").toLowerCase()},a=o.data={},c=o.NATIVE="N",l=o.POLYFILL="P";t.exports=o},function(t,e,i){var n=i(59);t.exports=function(t,e,i){if(n(t),void 0===e)return t;switch(i){case 0:return function(){return t.call(e)};case 1:return function(i){return t.call(e,i)};case 2:return function(i,n){return t.call(e,i,n)};case 3:return function(i,n,r){return t.call(e,i,n,r)}}return function(){return t.apply(e,arguments)}}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(String(t)+" is not a function");return t}},function(t,e,i){var n=i(14),r=i(0);t.exports="process"==n(r.process)},function(t,e,i){var n=i(19);t.exports=n("navigator","userAgent")||""},function(t,e,i){var n=i(41);t.exports=n&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},function(t,e){t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},function(t,e,i){"use strict";var n=i(4),r=i(1),o=i(40),s=i(2),a=i(21),c=i(9),l=i(65),f=i(39),u=i(43),p=i(10),h=i(22),y=p("isConcatSpreadable"),d=h>=51||!r((function(){var t=[];return t[y]=!1,t.concat()[0]!==t})),g=u("concat"),v=function(t){if(!s(t))return!1;var e=t[y];return void 0!==e?!!e:o(t)};n({target:"Array",proto:!0,forced:!d||!g},{concat:function(t){var e,i,n,r,o,s=a(this),u=f(s,0),p=0;for(e=-1,n=arguments.length;e<n;e++)if(v(o=-1===e?s:arguments[e])){if(p+(r=c(o.length))>9007199254740991)throw TypeError("Maximum allowed index exceeded");for(i=0;i<r;i++,p++)i in o&&l(u,p,o[i])}else{if(p>=9007199254740991)throw TypeError("Maximum allowed index exceeded");l(u,p++,o)}return u.length=p,u}})},function(t,e,i){"use strict";var n=i(15),r=i(7),o=i(12);t.exports=function(t,e,i){var s=n(e);s in t?r.f(t,s,o(0,i)):t[s]=i}},function(t,e,i){"use strict";var n=i(4),r=i(38).filter;n({target:"Array",proto:!0,forced:!i(43)("filter")},{filter:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}})},function(t,e,i){"use strict";var n=i(4),r=i(34).indexOf,o=i(42),s=[].indexOf,a=!!s&&1/[1].indexOf(1,-0)<0,c=o("indexOf");n({target:"Array",proto:!0,forced:a||!c},{indexOf:function(t){return a?s.apply(this,arguments)||0:r(this,t,arguments.length>1?arguments[1]:void 0)}})},function(t,e,i){"use strict";var n=i(21),r=i(36),o=i(9);t.exports=function(t){for(var e=n(this),i=o(e.length),s=arguments.length,a=r(s>1?arguments[1]:void 0,i),c=s>2?arguments[2]:void 0,l=void 0===c?i:r(c,i);l>a;)e[a++]=t;return e}},function(t,e,i){var n=i(10),r=i(70),o=i(7),s=n("unscopables"),a=Array.prototype;null==a[s]&&o.f(a,s,{configurable:!0,value:r(null)}),t.exports=function(t){a[s][t]=!0}},function(t,e,i){var n,r=i(8),o=i(71),s=i(20),a=i(18),c=i(73),l=i(28),f=i(30),u=f("IE_PROTO"),p=function(){},h=function(t){return"<script>"+t+"<\/script>"},y=function(){try{n=document.domain&&new ActiveXObject("htmlfile")}catch(t){}var t,e;y=n?function(t){t.write(h("")),t.close();var e=t.parentWindow.Object;return t=null,e}(n):((e=l("iframe")).style.display="none",c.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write(h("document.F=Object")),t.close(),t.F);for(var i=s.length;i--;)delete y.prototype[s[i]];return y()};a[u]=!0,t.exports=Object.create||function(t,e){var i;return null!==t?(p.prototype=r(t),i=new p,p.prototype=null,i[u]=t):i=y(),void 0===e?i:o(i,e)}},function(t,e,i){var n=i(5),r=i(7),o=i(8),s=i(72);t.exports=n?Object.defineProperties:function(t,e){o(t);for(var i,n=s(e),a=n.length,c=0;a>c;)r.f(t,i=n[c++],e[i]);return t}},function(t,e,i){var n=i(33),r=i(20);t.exports=Object.keys||function(t){return n(t,r)}},function(t,e,i){var n=i(19);t.exports=n("document","documentElement")},,,function(t,e,i){"use strict";i.r(e);i(11),i(23),i(64),i(66);var n=function(){function t(t){this.takenPositions=[],this.position=this.generatePositions(t),this.eaten=!1}var e=t.prototype;return e.generatePositions=function(t){for(var e=!0,i={x:0,y:0};e;){e=!1,i={x:Math.floor(Math.random()*t.tileCount),y:Math.floor(Math.random()*t.tileCount)},[].concat(t.snake,t.snake.snakeParts).forEach((function(t){t.position.x==i.x&&t.position.y==i.y&&(e=!0)}))}return i},e.drawApple=function(t,e){t.fillStyle="red",e.apples.forEach((function(i){t.fillRect(i.position.x*e.tileCount,i.position.y*e.tileCount,e.tileSize,e.tileSize)}))},e.checkAppleCollision=function(t){t.apples.forEach((function(e){e.position.x==t.snake.position.x&&e.position.y==t.snake.position.y&&(e.eaten=!0,t.snake.tailLength++,t.score+=t.pointsPrApple,t.playGulp(),t.speedIncrease())}))},e.removeEatenApples=function(t){t.apples=t.apples.filter((function(t){return!t.eaten}))},e.addApples=function(e){if(e.apples.length<=0)for(var i=0;i<e.applesPrScreen;i++)e.apples.push(new t(e))},t}(),r=(i(67),function(t,e){window.addEventListener("keydown",(function(t){["Space","ArrowUp","ArrowDown","ArrowLeft","ArrowRight"].indexOf(t.code)>-1&&t.preventDefault()}),!1),this.game=t,document.body.addEventListener("keydown",(function(i){if(t.gameState==e.RUNNING){if(t.changedDirection)return;if(38==i.keyCode){if(1==t.snake.velocity.y)return;t.snake.velocity.y=-1,t.snake.velocity.x=0}if(40==i.keyCode){if(-1==t.snake.velocity.y)return;t.snake.velocity.y=1,t.snake.velocity.x=0}if(37==i.keyCode){if(1==t.snake.velocity.x)return;t.snake.velocity.y=0,t.snake.velocity.x=-1}if(39==i.keyCode){if(-1==t.snake.velocity.x)return;t.snake.velocity.y=0,t.snake.velocity.x=1}t.changedDirection=!0,27==i.keyCode&&(t.gameState=e.PAUSED)}else t.gameState==e.PAUSED?27==i.keyCode&&(t.gameState=e.RUNNING):t.gameState==e.GAMEOVER?32==i.keyCode?t.start():27==i.keyCode&&(t.gameState=e.MENU):t.gameState==e.MENU?32==i.keyCode&&(t.gameState=e.MENU_SETTINGS):t.gameState==e.MENU_SETTINGS&&(1==t.menuSelect&&39==i.keyCode&&t.difficulty<3?t.difficulty++:1==t.menuSelect&&37==i.keyCode&&t.difficulty>1?t.difficulty--:1==t.menuSelect&&40==i.keyCode?t.menuSelect++:2==t.menuSelect&&38==i.keyCode?t.menuSelect--:2==t.menuSelect&&37==i.keyCode&&t.fourDimensions<=1?t.fourDimensions--:2==t.menuSelect&&39==i.keyCode&&t.fourDimensions<=0?t.fourDimensions++:32==i.keyCode&&t.start())}))}),o=(i(44),function(t,e){this.position={x:t,y:e}}),s=function(){function t(t){this.position={x:10,y:10},this.velocity={x:0,y:0},this.snakeParts=[],this.tailLength=2,this.reflexSaverWall=!1,this.reflexSaverTail=!1}var e=t.prototype;return e.drawSnake=function(t,e,i){t.fillStyle="green";for(var n=0;n<this.snakeParts.length;n++){var r=this.snakeParts[n];t.fillRect(r.position.x*e.tileCount,r.position.y*e.tileCount,e.tileSize,e.tileSize)}e.gameState==i.RUNNING?(this.snakeParts.push(new o(this.position.x,this.position.y)),this.snakeParts.length>this.tailLength&&this.snakeParts.shift()):e.gameState==i.GAMEOVER&&(t.fillStyle="#FF5000",t.beginPath(),t.arc(this.position.x*e.tileCount+e.tileSize/2,this.position.y*e.tileCount+e.tileSize/2,15,0,2*Math.PI),t.fill()),t.fillStyle="#39c339",t.fillRect(this.position.x*e.tileCount,this.position.y*e.tileCount,e.tileSize,e.tileSize)},e.updateSnakePosition=function(t){var e=this;if(0==this.reflexSaverWall&&0==t.fourDimensions){if(this.position.x+this.velocity.x>=t.tileCount||this.position.y+this.velocity.y>=t.tileCount||this.position.x+this.velocity.x<0||this.position.y+this.velocity.y<0)return void(this.reflexSaverWall=!0)}else this.reflexSaverWall=!1;if(0==this.reflexSaverTail){if(this.snakeParts.forEach((function(t){t.position.x!=e.position.x+e.velocity.x||t.position.y!=e.position.y+e.velocity.y||(e.reflexSaverTail=!0)})),1==this.reflexSaverTail)return}else this.reflexSaverTail=!1;this.position.x=this.position.x+this.velocity.x,this.position.y=this.position.y+this.velocity.y,t.fourDimensions&&(this.position.x<0&&(this.position.x=19),this.position.x>=t.tileCount&&(this.position.x=0),this.position.y<0&&(this.position.y=19),this.position.y>=t.tileCount&&(this.position.y=0))},t}();var a={PAUSED:0,RUNNING:1,MENU:2,MENU_SETTINGS:21,GAMEOVER:4},c=function(){function t(t,e){this.snake=new s(this),this.apple=new n(this),this.gameWidth=t,this.gameHeight=e,this.tileCount=20,this.tileSize=this.gameWidth/this.tileCount-2,this.changedDirection=!1,this.fourDimensions=0,this.speed=0,this.menuSelect=1,this.difficulty=2,this.startSpeed=7,this.applesPrScreen=2,this.apples=[],this.gameState=a.MENU,new r(this,a)}var e=t.prototype;return e.start=function(){switch(this.speed=this.startSpeed,this.score=0,this.apples=[new n(this)],this.snake=new s(this),this.difficulty){case 1:this.speed=3,this.applesPrScreen=1,this.speedIncrement=1,this.pointsPrApple=1;break;case 2:this.speed=6,this.applesPrScreen=2,this.speedIncrement=1.5,this.pointsPrApple=2;break;case 3:this.speed=8,this.applesPrScreen=3,this.speedIncrement=1.5,this.pointsPrApple=3}this.gameState=a.RUNNING},e.update=function(){if(this.changedDirection=!1,this.gameState==a.RUNNING){if(this.snake.updateSnakePosition(this),1==this.snake.reflexSaverWall||1==this.snake.reflexSaverTail)return;this.apple.checkAppleCollision(this),this.apple.removeEatenApples(this),this.apple.addApples(this),this.isGameOver()}},e.draw=function(t){1!=this.snake.reflexSaverWall&&1!=this.snake.reflexSaverTail&&(this.clearScreen(t),this.apple.drawApple(t,this),this.snake.drawSnake(t,this,a),this.drawScore(t),function(t,e,i){if(e.gameState==i.MENU&&(t.fillStyle="rgba(0,0,0,1)",t.rect(0,0,e.gameWidth,e.gameHeight),t.fill(),t.font="20px Arial",t.fillStyle="white",t.textAlign="center",t.fillText("Press SPACEBAR to continue",e.gameWidth/2,e.gameHeight/2),t.fillStyle="green",t.font="50px Arial",t.fillText("SNAKE!",e.gameWidth/2,e.gameHeight/3),t.font="20px Arial",t.fillText("A clone by Stanley Skarshaug",e.gameWidth/2,e.gameHeight/3*2),t.font="small-caption",t.fillStyle="white",t.textAlign="left",t.fillText("www.skarshaugs.no",10,e.gameHeight-10),t.font="small-caption",t.fillStyle="white",t.textAlign="right",t.fillText("v1.01",e.gameWidth-10,e.gameHeight-10)),e.gameState==i.MENU_SETTINGS){switch(t.rect(0,0,e.gameWidth,e.gameHeight),t.fillStyle="rgba(0,0,0,1)",t.fill(),t.font="20px Arial",t.fillStyle="green",t.textAlign="center",t.fillText("Difficulty:",e.gameWidth/2,e.gameHeight/4-10),t.font="20px Arial",e.menuSelect){case 1:t.fillStyle="#39c339",t.fillRect(e.gameWidth/4-60,e.gameHeight/3-30,e.gameWidth/4*3+20,50);break;case 2:t.fillStyle="#39c339",t.fillRect(e.gameWidth/4-60,e.gameHeight/3*2-30,e.gameWidth/4*3+20,50)}switch(e.difficulty){case 1:t.fillStyle="green",t.fillRect(e.gameWidth/4-50,e.gameHeight/3-25,100,40);break;case 2:t.fillStyle="green",t.fillRect(e.gameWidth/2-50,e.gameHeight/3-25,100,40);break;case 3:t.fillStyle="green",t.fillRect(e.gameWidth/4*3-50,e.gameHeight/3-25,100,40)}switch(t.fillStyle="white",t.fillText("Easy",e.gameWidth/4,e.gameHeight/3),t.fillText("Medium",e.gameWidth/2,e.gameHeight/3),t.fillText("Hard",e.gameWidth/4*3,e.gameHeight/3),e.fourDimensions){case 0:t.fillStyle="green",t.fillRect(e.gameWidth/4-50,e.gameHeight/3*2-25,100,40);break;case 1:t.fillStyle="green",t.fillRect(e.gameWidth/4*3-50,e.gameHeight/3*2-25,100,40)}t.fillStyle="green",t.fillText("Game type:",e.gameWidth/2,e.gameHeight/3*2-40),t.font="20px Arial",t.fillStyle="white",t.fillText("Normal",e.gameWidth/4,e.gameHeight/3*2),t.fillText("4D",e.gameWidth/4*3,e.gameHeight/3*2),t.font="15px Arial",t.fillText("Press SPACEBAR to start, ARROWS to change",e.gameWidth/2,e.gameHeight/7*6)}e.gameState==i.GAMEOVER&&(t.fillStyle="rgba(0,0,0,0.5)",t.fillRect(0,0,e.gameWidth,e.gameWidth),t.fillStyle="white",t.font="50px Verdana",t.textAlign="center",t.fillText("GAME OVER",e.gameWidth/2,e.gameHeight/2+25),t.font="20px Arial",t.fillText("Score: "+e.score,e.gameWidth/2,e.gameHeight/3),t.font="15px Arial",t.fillText("[SPACEBAR] - retry",e.gameWidth/2,e.gameHeight/3*2),t.fillText("[ESC] - main menu",e.gameWidth/2,e.gameHeight/3*2+40)),e.gameState==i.PAUSED&&(t.fillStyle="rgba(0,0,0,0.5)",t.fillRect(0,0,e.gameWidth,e.gameWidth),t.font="30px Arial",t.fillStyle="white",t.textAlign="center",t.fillText("Paused",e.gameWidth/2,e.gameHeight/2))}(t,this,a))},e.speedIncrease=function(){this.score==5*this.difficulty&&(this.speed+=this.speedIncrement),this.score==10*this.difficulty&&(this.speed+=this.speedIncrement),this.score==20*this.difficulty&&(this.speed+=this.speedIncrement),this.score==40*this.difficulty&&(this.speed+=this.speedIncrement),this.score==80*this.difficulty&&(this.speed+=this.speedIncrement),this.score==160*this.difficulty&&(this.speed+=this.speedIncrement)},e.isGameOver=function(){var t=this,e=!1;0===this.snake.velocity.x&&0===this.snake.velocity.y||(this.snake.position.x<0&&(e=!0),this.snake.position.x>=this.tileCount&&(e=!0),this.snake.position.y<0&&(e=!0),this.snake.position.y>=this.tileCount&&(e=!0),this.snake.snakeParts.forEach((function(i){i.position.x===t.snake.position.x&&i.position.y===t.snake.position.y&&(e=!0)})),e&&(this.gameState=a.GAMEOVER))},e.clearScreen=function(t){t.fillStyle="black",t.fillRect(0,0,this.gameWidth,this.gameWidth)},e.drawScore=function(t){t.fillStyle="white",t.font="10px Verdana",t.textAlign="left",t.fillText("Score: "+this.score,10,this.gameHeight-10)},e.playGulp=function(){new Audio("/resources/portfolio/snake/sounds/blop.wav").play()},t}(),l=document.getElementById("gameScreen"),f=l.getContext("2d"),u=new c(l.width,l.height);!function t(){u.update(),u.draw(f),setTimeout(t,1e3/u.speed)}()}]);